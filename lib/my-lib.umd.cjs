(function(n,D){typeof exports=="object"&&typeof module<"u"?module.exports=D(require("vue")):typeof define=="function"&&define.amd?define(["vue"],D):(n=typeof globalThis<"u"?globalThis:n||self,n.MyLib=D(n.Vue))})(this,function(n){"use strict";var D=!0;n.util.warn;/*!
  * pinia v2.0.34
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let S;const L=e=>S=e,Q=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function O(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var R;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(R||(R={}));const w=typeof window<"u",j=(process.env.NODE_ENV!=="production"||typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__)&&process.env.NODE_ENV!=="test"&&w;function I(e,o){for(const s in o){const t=o[s];if(!(s in e))continue;const a=e[s];O(a)&&O(t)&&!n.isRef(t)&&!n.isReactive(t)?e[s]=I(a,t):n.set(e,s,t)}return e}const H=()=>{};function W(e,o,s,t=H){e.push(o);const a=()=>{const d=e.indexOf(o);d>-1&&(e.splice(d,1),t())};return!s&&n.getCurrentScope()&&n.onScopeDispose(a),a}function P(e,...o){e.slice().forEach(s=>{s(...o)})}function $(e,o){e instanceof Map&&o instanceof Map&&o.forEach((s,t)=>e.set(t,s)),e instanceof Set&&o instanceof Set&&o.forEach(e.add,e);for(const s in o){if(!o.hasOwnProperty(s))continue;const t=o[s],a=e[s];O(a)&&O(t)&&e.hasOwnProperty(s)&&!n.isRef(t)&&!n.isReactive(t)?e[s]=$(a,t):e[s]=t}return e}process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();const Z=new WeakMap;function K(e){return!Z.has(e)}const{assign:y}=Object;function z(e){return!!(n.isRef(e)&&e.effect)}function A(e,o,s,t){const{state:a,actions:d,getters:l}=o,i=s.state.value[e];let f;function _(){!i&&(process.env.NODE_ENV==="production"||!t)&&n.set(s.state.value,e,a?a():{});const h=process.env.NODE_ENV!=="production"&&t?n.toRefs(n.ref(a?a():{}).value):n.toRefs(s.state.value[e]);return y(h,d,Object.keys(l||{}).reduce((m,p)=>(process.env.NODE_ENV!=="production"&&p in h&&console.warn(`[ðŸ]: A getter cannot have the same name as another state property. Rename one of them. Found with "${p}" in store "${e}".`),m[p]=n.markRaw(n.computed(()=>{L(s);const E=s._s.get(e);if(E._r)return l[p].call(E,E)})),m),{}))}return f=T(e,_,o,s,t,!0),f}function T(e,o,s={},t,a,d){let l;const i=y({actions:{}},s);if(process.env.NODE_ENV!=="production"&&!t._e.active)throw new Error("Pinia destroyed");const f={deep:!0};process.env.NODE_ENV!=="production"&&!D&&(f.onTrigger=c=>{_?E=c:_==!1&&!u._hotUpdating&&(Array.isArray(E)?E.push(c):console.error("ðŸ debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let _,h,m=n.markRaw([]),p=n.markRaw([]),E;const b=t.state.value[e];!d&&!b&&(process.env.NODE_ENV==="production"||!a)&&n.set(t.state.value,e,{});const M=n.ref({});let Y;function B(c){let r;_=h=!1,process.env.NODE_ENV!=="production"&&(E=[]),typeof c=="function"?(c(t.state.value[e]),r={type:R.patchFunction,storeId:e,events:E}):($(t.state.value[e],c),r={type:R.patchObject,payload:c,storeId:e,events:E});const v=Y=Symbol();n.nextTick().then(()=>{Y===v&&(_=!0)}),h=!0,P(m,r,t.state.value[e])}const ue=d?function(){const{state:r}=s,v=r?r():{};this.$patch(x=>{y(x,v)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`ðŸ: Store "${e}" is built using the setup syntax and does not implement $reset().`)}:H;function fe(){l.stop(),m=[],p=[],t._s.delete(e)}function G(c,r){return function(){L(t);const v=Array.from(arguments),x=[],U=[];function le(g){x.push(g)}function de(g){U.push(g)}P(p,{args:v,name:c,store:u,after:le,onError:de});let k;try{k=r.apply(this&&this.$id===e?this:u,v)}catch(g){throw P(U,g),g}return k instanceof Promise?k.then(g=>(P(x,g),g)).catch(g=>(P(U,g),Promise.reject(g))):(P(x,k),k)}}const C=n.markRaw({actions:{},getters:{},state:[],hotState:M}),F={_p:t,$id:e,$onAction:W.bind(null,p),$patch:B,$reset:ue,$subscribe(c,r={}){const v=W(m,c,r.detached,()=>x()),x=l.run(()=>n.watch(()=>t.state.value[e],U=>{(r.flush==="sync"?h:_)&&c({storeId:e,type:R.direct,events:E},U)},y({},f,r)));return v},$dispose:fe};F._r=!1;const u=n.reactive(process.env.NODE_ENV!=="production"||j?y({_hmrPayload:C,_customProperties:n.markRaw(new Set)},F):F);t._s.set(e,u);const N=t._e.run(()=>(l=n.effectScope(),l.run(()=>o())));for(const c in N){const r=N[c];if(n.isRef(r)&&!z(r)||n.isReactive(r))process.env.NODE_ENV!=="production"&&a?n.set(M.value,c,n.toRef(N,c)):d||(b&&K(r)&&(n.isRef(r)?r.value=b[c]:$(r,b[c])),n.set(t.state.value[e],c,r)),process.env.NODE_ENV!=="production"&&C.state.push(c);else if(typeof r=="function"){const v=process.env.NODE_ENV!=="production"&&a?r:G(c,r);n.set(N,c,v),process.env.NODE_ENV!=="production"&&(C.actions[c]=r),i.actions[c]=r}else process.env.NODE_ENV!=="production"&&z(r)&&(C.getters[c]=d?s.getters[c]:r,w&&(N._getters||(N._getters=n.markRaw([]))).push(c))}if(Object.keys(N).forEach(c=>{n.set(u,c,N[c])}),Object.defineProperty(u,"$state",{get:()=>process.env.NODE_ENV!=="production"&&a?M.value:t.state.value[e],set:c=>{if(process.env.NODE_ENV!=="production"&&a)throw new Error("cannot set hotState");B(r=>{y(r,c)})}}),process.env.NODE_ENV!=="production"&&(u._hotUpdate=n.markRaw(c=>{u._hotUpdating=!0,c._hmrPayload.state.forEach(r=>{if(r in u.$state){const v=c.$state[r],x=u.$state[r];typeof v=="object"&&O(v)&&O(x)?I(v,x):c.$state[r]=x}n.set(u,r,n.toRef(c.$state,r))}),Object.keys(u.$state).forEach(r=>{r in c.$state||n.del(u,r)}),_=!1,h=!1,t.state.value[e]=n.toRef(c._hmrPayload,"hotState"),h=!0,n.nextTick().then(()=>{_=!0});for(const r in c._hmrPayload.actions){const v=c[r];n.set(u,r,G(r,v))}for(const r in c._hmrPayload.getters){const v=c._hmrPayload.getters[r],x=d?n.computed(()=>(L(t),v.call(u,u))):v;n.set(u,r,x)}Object.keys(u._hmrPayload.getters).forEach(r=>{r in c._hmrPayload.getters||n.del(u,r)}),Object.keys(u._hmrPayload.actions).forEach(r=>{r in c._hmrPayload.actions||n.del(u,r)}),u._hmrPayload=c._hmrPayload,u._getters=c._getters,u._hotUpdating=!1})),j){const c={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(r=>{Object.defineProperty(u,r,y({value:u[r]},c))})}return u._r=!0,t._p.forEach(c=>{if(j){const r=l.run(()=>c({store:u,app:t._a,pinia:t,options:i}));Object.keys(r||{}).forEach(v=>u._customProperties.add(v)),y(u,r)}else y(u,l.run(()=>c({store:u,app:t._a,pinia:t,options:i})))}),process.env.NODE_ENV!=="production"&&u.$state&&typeof u.$state=="object"&&typeof u.$state.constructor=="function"&&!u.$state.constructor.toString().includes("[native code]")&&console.warn(`[ðŸ]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${u.$id}".`),b&&d&&s.hydrate&&s.hydrate(u.$state,b),_=!0,h=!0,u}function V(e,o,s){let t,a;const d=typeof o=="function";typeof e=="string"?(t=e,a=d?s:o):(a=e,t=e.id);function l(i,f){const _=n.getCurrentInstance();if(i=(process.env.NODE_ENV==="test"&&S&&S._testing?null:i)||_&&n.inject(Q,null),i&&L(i),process.env.NODE_ENV!=="production"&&!S)throw new Error(`[ðŸ]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);i=S,i._s.has(t)||(d?T(t,o,a,i):A(t,a,i),process.env.NODE_ENV!=="production"&&(l._pinia=i));const h=i._s.get(t);if(process.env.NODE_ENV!=="production"&&f){const m="__hot:"+t,p=d?T(m,o,a,i,!0):A(m,y({},a),i,!0);f._hotUpdate(p),delete i.state.value[m],i._s.delete(m)}if(process.env.NODE_ENV!=="production"&&w&&_&&_.proxy&&!f){const m=_.proxy,p="_pStores"in m?m._pStores:m._pStores={};p[t]=h}return h}return l.$id=t,l}function ee(e){return n.toRefs(e)}const te={userList:[],userMocks:[{id:1,name:"John",age:30,address:"New York"},{id:2,name:"Smith",age:40,address:"California"},{id:3,name:"Peter",age:50,address:"Texas"}]},se=()=>"xxxxxxxx-xxxx-4xxx-xxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const o=Math.random()*16|0;return(e==="x"?o:o&3|8).toString(16)}),J=V("user",()=>{const e=n.reactive({user:null,userList:[]}),o=n.computed(()=>e.user),s=n.computed(()=>e.userList),t=i=>(i.uuid||(i.uuid=se()),e.userList.push({...i}),e.user={...i},l(i),i),a=async()=>(e.userList=te.userList,e.userList),d=i=>{e.userList=e.userList.filter(f=>f.uuid!==i)},l=i=>{i.uuid="",i.name="",i.age=0};return{add:t,getUserList:a,removeUser:d,user:o,userList:s}}),X=J(),q=()=>{const{user:e,userList:o}=ee(X),{add:s,getUserList:t,removeUser:a}=X,d=f=>s(f),l=async()=>await t(),i=f=>{a(f)};return n.onMounted(async()=>{await l()}),{addUser:d,getUserList:l,removeUser:i,user:e,userList:o}},ne=n.defineComponent({name:"UserComponent"}),oe=n.defineComponent({...ne,setup(e){const o=q(),s=n.reactive({age:0,name:""});return{__sfc:!0,user:o,form:s,onClick:()=>{o.addUser(s)},removeUser:l=>{o.removeUser(l)},v4:()=>"xxxxxxxx-xxxx-4xxx-xxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const i=Math.random()*16|0;return(l==="x"?i:i&3|8).toString(16)})}}}),ve="";function re(e,o,s,t,a,d,l,i){var f=typeof e=="function"?e.options:e;o&&(f.render=o,f.staticRenderFns=s,f._compiled=!0),t&&(f.functional=!0),d&&(f._scopeId="data-v-"+d);var _;if(l?(_=function(p){p=p||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!p&&typeof __VUE_SSR_CONTEXT__<"u"&&(p=__VUE_SSR_CONTEXT__),a&&a.call(this,p),p&&p._registeredComponents&&p._registeredComponents.add(l)},f._ssrRegister=_):a&&(_=i?function(){a.call(this,(f.functional?this.parent:this).$root.$options.shadowRoot)}:a),_)if(f.functional){f._injectStyles=_;var h=f.render;f.render=function(E,b){return _.call(b),h(E,b)}}else{var m=f.beforeCreate;f.beforeCreate=m?[].concat(m,_):[_]}return{exports:e,options:f}}var ce=function(){var o=this,s=o._self._c,t=o._self._setupProxy;return s("div",[o._m(0),s("div",{staticClass:"flex-center-horizontal"},[s("div",[s("h2",[o._v("Formulario")]),s("div",[s("label",{attrs:{for:"name"}},[o._v("Nombre: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{"data-testid":"name",name:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||o.$set(t.form,"name",a.target.value)}}})]),s("div",[s("label",{attrs:{for:"age"}},[o._v("Edad: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.age,expression:"form.age"}],attrs:{"data-testid":"age",name:"age",type:"number"},domProps:{value:t.form.age},on:{input:function(a){a.target.composing||o.$set(t.form,"age",a.target.value)}}})]),s("div",[s("button",{attrs:{"data-testid":"button",name:"button",type:"button"},on:{click:t.onClick}},[o._v("Guardar")])])]),s("div",[s("h2",[o._v("Lista de usuarios")]),o._l(t.user.userList.value,function(a){return s("div",{key:a.uuid},[s("p",[o._v(o._s(a.name))]),s("p",[o._v(o._s(a.age))]),s("button",{attrs:{type:"button"},on:{click:function(d){return t.removeUser(a.uuid)}}},[o._v("Remover")])])})],2)])])},ae=[function(){var e=this,o=e._self._c;return e._self._setupProxy,o("div",[o("h1",[e._v("User Component")])])}],ie=re(oe,ce,ae,!1,null,"a0f7960b",null,null);return{components:{User:ie.exports},hooks:{useUser:q},stores:{useUserStore:J}}});
